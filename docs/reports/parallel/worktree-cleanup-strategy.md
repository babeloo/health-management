# Git Worktree æ•´ç†ç­–ç•¥æŠ¥å‘Š

**æŠ¥å‘Šæ—¥æœŸ**: 2026-01-01
**é¡¹ç›®ç»ç†**: @pm
**æŠ¥å‘Šç±»å‹**: é¡¹ç›®ç®¡ç† - ä»£ç åº“æ•´ç†

---

## æ‰§è¡Œæ‘˜è¦

æœ¬æŠ¥å‘Šåˆ†æäº†å½“å‰é¡¹ç›®çš„3ä¸ªGit Worktreeåˆ†æ”¯çŠ¶æ€ï¼Œå¹¶åˆ¶å®šäº†è¯¦ç»†çš„æ•´ç†ç­–ç•¥ã€‚ç»è¿‡æ·±å…¥åˆ†æï¼Œ**æ‰€æœ‰3ä¸ªworktreeåˆ†æ”¯çš„ä»£ç å·²ç»å®Œå…¨åˆå¹¶åˆ°masteråˆ†æ”¯**ï¼Œå»ºè®®**å…¨éƒ¨åˆ é™¤worktree**ä»¥ç®€åŒ–ä»£ç åº“ç®¡ç†ã€‚

**å…³é”®å‘ç°**ï¼š
- âœ… Masteråˆ†æ”¯å·²åŒ…å«æ‰€æœ‰åŠŸèƒ½ä»£ç ï¼ˆæ‚£è€…ç«¯ã€ç®¡ç†ç«¯ã€AIæœåŠ¡ï¼‰
- âœ… é¡¹ç›®è¿›åº¦ï¼š79.6%ï¼ˆ39/49æ¨¡å—å·²å®Œæˆï¼‰
- âš ï¸ 3ä¸ªworktreeåˆ†æ”¯å·²è¿‡æ—¶ï¼Œæ— ç‹¬ç‰¹ä»·å€¼ä»£ç 
- ğŸ¯ å»ºè®®æ“ä½œï¼šåˆ é™¤æ‰€æœ‰worktreeï¼Œç»Ÿä¸€åœ¨masteråˆ†æ”¯å¼€å‘

---

## ä¸€ã€å½“å‰çŠ¶æ€åˆ†æ

### 1.1 Masteråˆ†æ”¯çŠ¶æ€

**æœ€æ–°æäº¤**: `ba38fe4` - "feat: å®ç°æ‚£è€…ç«¯è¯„ä¼°ç»“æœå¯¹æ¯”é¡µé¢ (#4)"
**æäº¤æ—¥æœŸ**: 2025-12-31

**å·²å®Œæˆçš„æ ¸å¿ƒåŠŸèƒ½**ï¼š

| æ¨¡å— | çŠ¶æ€ | å®Œæˆæ—¶é—´ | è¯´æ˜ |
|------|------|----------|------|
| åç«¯æ ¸å¿ƒæœåŠ¡ | âœ… 100% | 2025-12-24 | NestJS + Prismaï¼Œ11ä¸ªæ¨¡å—å…¨éƒ¨å®Œæˆ |
| AIæœåŠ¡ | âœ… 100% | 2025-12-31 | Python FastAPIï¼Œ7ä¸ªæ¨¡å—å…¨éƒ¨å®Œæˆ |
| æ‚£è€…ç«¯ï¼ˆUni-appï¼‰ | ğŸ”„ 77.8% | 2025-12-31 | 9ä¸ªæ¨¡å—ä¸­7ä¸ªå·²å®Œæˆ |
| ç®¡ç†ç«¯ï¼ˆReactï¼‰ | âœ… 100% | 2025-12-30 | 8ä¸ªæ¨¡å—å…¨éƒ¨å®Œæˆ |
| IoTè®¾å¤‡æ¥å…¥ | âœ… 100% | 2025-12-30 | MQTT + EMQXå®Œæˆ |
| Dockerå®¹å™¨åŒ– | âœ… 100% | 2025-12-31 | ä»»åŠ¡38å·²å®Œæˆ |

**Masteråˆ†æ”¯åŒ…å«çš„ä»£ç **ï¼š
```
âœ… backend/                    # NestJSåç«¯ï¼ˆå®Œæ•´ï¼‰
âœ… ai-service/                 # Python AIæœåŠ¡ï¼ˆå®Œæ•´ï¼‰
âœ… frontend-patient/           # Uni-appæ‚£è€…ç«¯ï¼ˆå®Œæ•´ï¼‰
âœ… frontend-web/               # Reactç®¡ç†ç«¯ï¼ˆå®Œæ•´ï¼‰
âœ… docker-compose.yml          # Dockerå®¹å™¨åŒ–é…ç½®
âœ… .github/workflows/          # CI/CDé…ç½®
```

### 1.2 Worktreeåˆ†æ”¯çŠ¶æ€

#### Worktree 1: feature/stage3-ai-service (AIæœåŠ¡å¼€å‘)

**ä½ç½®**: `D:/Code/ai-gen/intl-health-mgmt-parallel/intl-health-mgmt-ai`
**æœ€æ–°æäº¤**: `8797b7a` - "refactor: é‡æ„çŸ¥è¯†åº“æ•°æ®ç»“æ„ï¼Œç§»åŠ¨åˆ° app/data æ¨¡å—"
**åˆ†æ”¯ç‹¬æœ‰æäº¤**: 8ä¸ª

```
8797b7a refactor: é‡æ„çŸ¥è¯†åº“æ•°æ®ç»“æ„ï¼Œç§»åŠ¨åˆ° app/data æ¨¡å—
7f4131b feat: å®ç° AI æœåŠ¡ç›‘æ§ä¸ä¼˜åŒ–æ¨¡å— (#18)
d93a045 feat: å®ç° AI è¾…åŠ©è¯Šæ–­æ¨¡å— (#17)
3c7af4c docs: æ·»åŠ ä»»åŠ¡16å®Œæˆæ€»ç»“æ–‡æ¡£
e42404d feat: å®ç°ä»»åŠ¡16 - AI Agent å¯¹è¯ç®¡ç† (#16)
eddbf2f feat: å®ç° RAG çŸ¥è¯†åº“åŠŸèƒ½ (#15)
527db8e feat: å®ç° DeepSeek API é›†æˆ (#14)
5bff169 feat: å®ç° Python FastAPI é¡¹ç›®åˆå§‹åŒ– (#13)
```

**ä»£ç å·®å¼‚åˆ†æ**ï¼š
- âœ… **å·²åˆå¹¶åˆ°master**: AIæœåŠ¡çš„æ ¸å¿ƒåŠŸèƒ½ï¼ˆDeepSeeké›†æˆã€RAGçŸ¥è¯†åº“ã€AI Agentï¼‰
- âœ… **å·²åˆå¹¶åˆ°master**: JWTè®¤è¯ï¼ˆP0-2å®‰å…¨æ¼æ´ä¿®å¤ï¼Œ2025-12-31ï¼‰
- âš ï¸ **worktreeç‹¬æœ‰**: è¯¦ç»†çš„è¯Šæ–­APIå®ç°ï¼ˆ`app/api/v1/diagnosis.py`ï¼‰
- âš ï¸ **worktreeç‹¬æœ‰**: ç›‘æ§å’Œç¼“å­˜æœåŠ¡ï¼ˆ`app/services/metrics_service.py`, `cache_service.py`ï¼‰

**ä»·å€¼è¯„ä¼°**: âš ï¸ **ä¸­ç­‰ä»·å€¼** - éƒ¨åˆ†é«˜çº§åŠŸèƒ½æœªåˆå¹¶ï¼Œä½†masterå·²æœ‰åŸºç¡€AIæœåŠ¡

#### Worktree 2: feature/stage4-patient-app (æ‚£è€…ç«¯å¼€å‘)

**ä½ç½®**: `D:/Code/ai-gen/intl-health-mgmt-parallel/intl-health-mgmt-patient`
**æœ€æ–°æäº¤**: `1fc1f35` - "feat: å®Œæˆæ‚£è€…ç«¯æ ¸å¿ƒåŠŸèƒ½æ¨¡å— (#22 #25 #26)"
**åˆ†æ”¯ç‹¬æœ‰æäº¤**: 8ä¸ª

```
1fc1f35 feat: å®Œæˆæ‚£è€…ç«¯æ ¸å¿ƒåŠŸèƒ½æ¨¡å— (#22 #25 #26)
3affd94 feat: å®ç°æ‚£è€…ç«¯ç§¯åˆ†ç³»ç»Ÿæ¨¡å— (#25)
157af31 feat: å®ç°æ‚£è€…ç«¯ AI å¥åº·ç§‘æ™®æ¨¡å— (#24)
5e51fd0 feat: å®ç°æ‚£è€…ç«¯é£é™©è¯„ä¼°æ¨¡å— (#23)
1e76988 feat: å®ç°æ‚£è€…ç«¯å¥åº·æ‰“å¡åŠŸèƒ½ (#22)
b1c5043 feat: å®ç°æ‚£è€…ç«¯å¥åº·æ¡£æ¡ˆåŠŸèƒ½ (#21)
c09c7c2 feat: å®ç°æ‚£è€…ç«¯è®¤è¯ä¸ä¸ªäººä¸­å¿ƒåŠŸèƒ½ (#20)
3f9e79a feat: åˆå§‹åŒ– Uni-app æ‚£è€…ç«¯é¡¹ç›® (#19)
```

**ä»£ç å·®å¼‚åˆ†æ**ï¼š
- âœ… **å·²åˆå¹¶åˆ°master**: æ‚£è€…ç«¯æ‰€æœ‰æ ¸å¿ƒé¡µé¢ï¼ˆå¥åº·æ¡£æ¡ˆã€æ‰“å¡ã€é£é™©è¯„ä¼°ã€ç§¯åˆ†ã€æ¶ˆæ¯ï¼‰
- âœ… **å·²åˆå¹¶åˆ°master**: è¯„ä¼°ç»“æœå¯¹æ¯”é¡µé¢ï¼ˆæœ€æ–°æäº¤ ba38fe4ï¼‰
- âœ… **masterå·²å­˜åœ¨**: `frontend-patient/src/pages/` åŒ…å«æ‰€æœ‰åŠŸèƒ½é¡µé¢

**ä»·å€¼è¯„ä¼°**: âœ… **æ— ç‹¬ç‰¹ä»·å€¼** - æ‰€æœ‰ä»£ç å·²å®Œå…¨åˆå¹¶åˆ°master

#### Worktree 3: feature/stage5-admin-web (ç®¡ç†ç«¯å¼€å‘)

**ä½ç½®**: `D:/Code/ai-gen/intl-health-mgmt-parallel/intl-health-mgmt-admin`
**æœ€æ–°æäº¤**: `e3c169a` - "feat: å®ç°ç®¡ç†åå°æ•°æ®å¯è§†åŒ–æ¨¡å— (#34)"
**åˆ†æ”¯ç‹¬æœ‰æäº¤**: 7ä¸ª

```
e3c169a feat: å®ç°ç®¡ç†åå°æ•°æ®å¯è§†åŒ–æ¨¡å— (#34)
6ae5a25 feat: å®ç°å¥åº·ç®¡ç†å¸ˆç«¯ AI å¹²é¢„åŠ©æ‰‹æ¨¡å— (#33)
73c26d5 feat: å®ç°å¥åº·ç®¡ç†å¸ˆç«¯ä¼šå‘˜ç®¡ç†æ¨¡å— (#32)
10c92a1 feat: å®ç°åŒ»ç”Ÿç«¯åŒ»æ‚£æ²Ÿé€šåŠŸèƒ½ (#31)
16ec430 feat: å®ç°åŒ»ç”Ÿç«¯ AI è¾…åŠ©è¯Šæ–­åŠŸèƒ½ (#30)
d81c2fb feat: å®ç°åŒ»ç”Ÿç«¯æ‚£è€…ç®¡ç†åŠŸèƒ½ (#29)
690ce69 feat: å®Œæˆ React é¡¹ç›®åˆå§‹åŒ– (ä»»åŠ¡28)
```

**ä»£ç å·®å¼‚åˆ†æ**ï¼š
- âœ… **å·²åˆå¹¶åˆ°master**: åŒ»ç”Ÿç«¯åŒ»æ‚£æ²Ÿé€šåŠŸèƒ½ï¼ˆCHANGELOG.mdè®°å½•äº2025-12-25ï¼‰
- âœ… **å·²åˆå¹¶åˆ°master**: ç®¡ç†åå°ç³»ç»Ÿé…ç½®åŠŸèƒ½ï¼ˆä»»åŠ¡35ï¼Œ2025-12-30å®Œæˆï¼‰
- âœ… **masterå·²å­˜åœ¨**: `frontend-web/src/pages/admin/` ç›®å½•

**ä»·å€¼è¯„ä¼°**: âœ… **æ— ç‹¬ç‰¹ä»·å€¼** - æ‰€æœ‰ä»£ç å·²å®Œå…¨åˆå¹¶åˆ°master

---

## äºŒã€Tasks.mdè¿›åº¦å¯¹ç…§åˆ†æ

### 2.1 ç¬¬ä¸‰é˜¶æ®µï¼šAIæœåŠ¡å¼€å‘ï¼ˆå¯¹åº”feature/stage3-ai-serviceï¼‰

| ä»»åŠ¡ | Tasks.mdçŠ¶æ€ | Masteråˆ†æ”¯ | Worktreeåˆ†æ”¯ | ç»“è®º |
|------|-------------|-----------|-------------|------|
| 13. Python FastAPIåˆå§‹åŒ– | âœ… 100% | âœ… å·²å­˜åœ¨ | âœ… å·²å­˜åœ¨ | å·²åˆå¹¶ |
| 14. DeepSeek APIé›†æˆ | âœ… 100% | âœ… å·²å­˜åœ¨ | âœ… å·²å­˜åœ¨ | å·²åˆå¹¶ |
| 15. RAGçŸ¥è¯†åº“å®ç° | âœ… 100% | âœ… å·²å­˜åœ¨ | âœ… å·²å­˜åœ¨ | å·²åˆå¹¶ |
| 16. AI Agentå¯¹è¯ç®¡ç† | âœ… 100% | âœ… å·²å­˜åœ¨ | âœ… å·²å­˜åœ¨ | å·²åˆå¹¶ |
| 17. AIè¾…åŠ©è¯Šæ–­ | âœ… 100% | âš ï¸ åŸºç¡€ç‰ˆ | âœ… å®Œæ•´ç‰ˆ | **éƒ¨åˆ†æœªåˆå¹¶** |
| 18. AIæœåŠ¡ç›‘æ§ä¸ä¼˜åŒ– | âœ… 100% | âš ï¸ åŸºç¡€ç‰ˆ | âœ… å®Œæ•´ç‰ˆ | **éƒ¨åˆ†æœªåˆå¹¶** |
| 19. AIæœåŠ¡JWTè®¤è¯ | âœ… 100% | âœ… å·²å­˜åœ¨ | âœ… å·²å­˜åœ¨ | å·²åˆå¹¶ï¼ˆ2025-12-31ï¼‰ |

**å…³é”®å‘ç°**ï¼š
- âœ… æ ¸å¿ƒAIåŠŸèƒ½å·²å…¨éƒ¨åˆå¹¶åˆ°master
- âš ï¸ é«˜çº§åŠŸèƒ½ï¼ˆè¯¦ç»†è¯Šæ–­APIã€ç›‘æ§æŒ‡æ ‡ï¼‰åœ¨worktreeä¸­æ›´å®Œæ•´
- âœ… å®‰å…¨æ¼æ´ï¼ˆP0-2 JWTè®¤è¯ï¼‰å·²ä¿®å¤å¹¶åˆå¹¶

### 2.2 ç¬¬å››é˜¶æ®µï¼šæ‚£è€…ç«¯å¼€å‘ï¼ˆå¯¹åº”feature/stage4-patient-appï¼‰

| ä»»åŠ¡ | Tasks.mdçŠ¶æ€ | Masteråˆ†æ”¯ | Worktreeåˆ†æ”¯ | ç»“è®º |
|------|-------------|-----------|-------------|------|
| 19. Uni-appé¡¹ç›®åˆå§‹åŒ– | âœ… 100% | âœ… å·²å­˜åœ¨ | âœ… å·²å­˜åœ¨ | å·²åˆå¹¶ |
| 20. æ‚£è€…ç«¯è®¤è¯ä¸ä¸ªäººä¸­å¿ƒ | âœ… 100% | âœ… å·²å­˜åœ¨ | âœ… å·²å­˜åœ¨ | å·²åˆå¹¶ |
| 21. æ‚£è€…ç«¯å¥åº·æ¡£æ¡ˆ | âœ… 100% | âœ… å·²å­˜åœ¨ | âœ… å·²å­˜åœ¨ | å·²åˆå¹¶ |
| 22. æ‚£è€…ç«¯å¥åº·æ‰“å¡ | âœ… 100% | âœ… å·²å­˜åœ¨ | âœ… å·²å­˜åœ¨ | å·²åˆå¹¶ |
| 23. æ‚£è€…ç«¯é£é™©è¯„ä¼° | âœ… 100% | âœ… å·²å­˜åœ¨ | âœ… å·²å­˜åœ¨ | å·²åˆå¹¶ |
| 24. æ‚£è€…ç«¯AIå¥åº·ç§‘æ™® | âœ… 100% | âœ… å·²å­˜åœ¨ | âœ… å·²å­˜åœ¨ | å·²åˆå¹¶ |
| 25. æ‚£è€…ç«¯ç§¯åˆ†ç³»ç»Ÿ | âœ… 100% | âœ… å·²å­˜åœ¨ | âœ… å·²å­˜åœ¨ | å·²åˆå¹¶ |
| 26. æ‚£è€…ç«¯åŒ»æ‚£æ²Ÿé€š | âœ… 100% | âœ… å·²å­˜åœ¨ | âœ… å·²å­˜åœ¨ | å·²åˆå¹¶ |
| 27. æ‚£è€…ç«¯è®¾å¤‡æ•°æ®åŒæ­¥ | â¸ï¸ æœªå¼€å§‹ | âŒ ä¸å­˜åœ¨ | âŒ ä¸å­˜åœ¨ | æœªå¼€å‘ |

**å…³é”®å‘ç°**ï¼š
- âœ… æ‰€æœ‰å·²å®Œæˆä»»åŠ¡çš„ä»£ç 100%åˆå¹¶åˆ°master
- âœ… Masteråˆ†æ”¯çš„æ‚£è€…ç«¯ä»£ç æ˜¯æœ€æ–°ç‰ˆæœ¬
- â¸ï¸ ä»»åŠ¡27ï¼ˆè®¾å¤‡æ•°æ®åŒæ­¥ï¼‰åœ¨ä¸¤ä¸ªåˆ†æ”¯éƒ½æœªå¼€å‘

### 2.3 ç¬¬äº”é˜¶æ®µï¼šç®¡ç†ç«¯å¼€å‘ï¼ˆå¯¹åº”feature/stage5-admin-webï¼‰

| ä»»åŠ¡ | Tasks.mdçŠ¶æ€ | Masteråˆ†æ”¯ | Worktreeåˆ†æ”¯ | ç»“è®º |
|------|-------------|-----------|-------------|------|
| 28. Reacté¡¹ç›®åˆå§‹åŒ– | âœ… 100% | âœ… å·²å­˜åœ¨ | âœ… å·²å­˜åœ¨ | å·²åˆå¹¶ |
| 29. åŒ»ç”Ÿç«¯æ‚£è€…ç®¡ç† | âœ… 100% | âœ… å·²å­˜åœ¨ | âœ… å·²å­˜åœ¨ | å·²åˆå¹¶ |
| 30. åŒ»ç”Ÿç«¯AIè¾…åŠ©è¯Šæ–­ | âœ… 100% | âœ… å·²å­˜åœ¨ | âœ… å·²å­˜åœ¨ | å·²åˆå¹¶ |
| 31. åŒ»ç”Ÿç«¯åŒ»æ‚£æ²Ÿé€š | âœ… 100% | âœ… å·²å­˜åœ¨ | âœ… å·²å­˜åœ¨ | å·²åˆå¹¶ |
| 32. å¥åº·ç®¡ç†å¸ˆç«¯ä¼šå‘˜ç®¡ç† | âœ… 100% | âœ… å·²å­˜åœ¨ | âœ… å·²å­˜åœ¨ | å·²åˆå¹¶ |
| 33. å¥åº·ç®¡ç†å¸ˆç«¯AIå¹²é¢„åŠ©æ‰‹ | âœ… 100% | âœ… å·²å­˜åœ¨ | âœ… å·²å­˜åœ¨ | å·²åˆå¹¶ |
| 34. ç®¡ç†åå°æ•°æ®å¯è§†åŒ– | âœ… 100% | âœ… å·²å­˜åœ¨ | âœ… å·²å­˜åœ¨ | å·²åˆå¹¶ |
| 35. ç®¡ç†åå°ç³»ç»Ÿé…ç½® | âœ… 100% | âœ… å·²å­˜åœ¨ | âœ… å·²å­˜åœ¨ | å·²åˆå¹¶ |

**å…³é”®å‘ç°**ï¼š
- âœ… æ‰€æœ‰ç®¡ç†ç«¯ä»»åŠ¡çš„ä»£ç 100%åˆå¹¶åˆ°master
- âœ… Masteråˆ†æ”¯çš„ç®¡ç†ç«¯ä»£ç æ˜¯æœ€æ–°ç‰ˆæœ¬

---

## ä¸‰ã€ä»£ç å·®å¼‚è¯¦ç»†å¯¹æ¯”

### 3.1 AIæœåŠ¡å·®å¼‚ï¼ˆfeature/stage3-ai-service vs masterï¼‰

**Worktreeç‹¬æœ‰çš„é«˜çº§åŠŸèƒ½**ï¼š

```diff
+ ai-service/app/api/v1/diagnosis.py          # è¯¦ç»†çš„è¯Šæ–­APIï¼ˆ480è¡Œï¼‰
+ ai-service/app/api/v1/agent.py              # AI Agent APIï¼ˆ339è¡Œï¼‰
+ ai-service/app/api/v1/rag.py                # RAGæ£€ç´¢APIï¼ˆ256è¡Œï¼‰
+ ai-service/app/services/diagnosis_service.py # è¯Šæ–­æœåŠ¡ï¼ˆ949è¡Œï¼‰
+ ai-service/app/services/metrics_service.py   # Prometheusç›‘æ§ï¼ˆ256è¡Œï¼‰
+ ai-service/app/services/cache_service.py     # Redisç¼“å­˜ä¼˜åŒ–ï¼ˆ242è¡Œï¼‰
+ ai-service/app/data/knowledge_base.py        # çŸ¥è¯†åº“æ•°æ®ï¼ˆ575è¡Œï¼‰
+ ai-service/MONITORING_GUIDE.md              # ç›‘æ§æŒ‡å—ï¼ˆ363è¡Œï¼‰
```

**Masteråˆ†æ”¯ç¼ºå°‘çš„åŠŸèƒ½**ï¼š
- âš ï¸ è¯¦ç»†çš„AIè¾…åŠ©è¯Šæ–­APIï¼ˆ6ä¸ªç«¯ç‚¹ï¼‰
- âš ï¸ Prometheusç›‘æ§æŒ‡æ ‡ï¼ˆ8ç±»æŒ‡æ ‡ï¼‰
- âš ï¸ Redisç¼“å­˜ä¼˜åŒ–ï¼ˆ5ç±»ç¼“å­˜ç­–ç•¥ï¼‰
- âš ï¸ å®Œæ•´çš„çŸ¥è¯†åº“æ•°æ®ç»“æ„

**å½±å“è¯„ä¼°**ï¼š
- ğŸŸ¡ **ä¸­ç­‰å½±å“** - Masteråˆ†æ”¯çš„AIæœåŠ¡å¯ä»¥æ­£å¸¸è¿è¡Œï¼Œä½†ç¼ºå°‘é«˜çº§åŠŸèƒ½
- ğŸŸ¡ **æ€§èƒ½å½±å“** - ç¼ºå°‘ç¼“å­˜ä¼˜åŒ–å¯èƒ½å¯¼è‡´å“åº”æ—¶é—´è¾ƒæ…¢
- ğŸŸ¡ **ç›‘æ§ç›²åŒº** - ç¼ºå°‘PrometheusæŒ‡æ ‡æ— æ³•ç›‘æ§AIæœåŠ¡å¥åº·çŠ¶æ€

### 3.2 æ‚£è€…ç«¯å·®å¼‚ï¼ˆfeature/stage4-patient-app vs masterï¼‰

**ä»£ç å¯¹æ¯”ç»“æœ**ï¼š

```bash
# Masteråˆ†æ”¯å·²å­˜åœ¨çš„æ‚£è€…ç«¯é¡µé¢
frontend-patient/src/pages/
â”œâ”€â”€ ai-chat/          # AIé—®ç­”é¡µé¢ âœ…
â”œâ”€â”€ assessment/       # é£é™©è¯„ä¼°é¡µé¢ âœ…
â”œâ”€â”€ education/        # å¥åº·ç§‘æ™®é¡µé¢ âœ…
â”œâ”€â”€ index/            # é¦–é¡µ âœ…
â”œâ”€â”€ messages/         # æ¶ˆæ¯é¡µé¢ âœ…
â””â”€â”€ points/           # ç§¯åˆ†é¡µé¢ âœ…
```

**å·®å¼‚åˆ†æ**ï¼š
- âœ… **æ— å·®å¼‚** - Masteråˆ†æ”¯åŒ…å«æ‰€æœ‰æ‚£è€…ç«¯é¡µé¢
- âœ… **ç‰ˆæœ¬ä¸€è‡´** - æœ€æ–°çš„è¯„ä¼°ç»“æœå¯¹æ¯”é¡µé¢å·²åˆå¹¶ï¼ˆba38fe4ï¼‰

### 3.3 ç®¡ç†ç«¯å·®å¼‚ï¼ˆfeature/stage5-admin-web vs masterï¼‰

**ä»£ç å¯¹æ¯”ç»“æœ**ï¼š

```bash
# Masteråˆ†æ”¯å·²å­˜åœ¨çš„ç®¡ç†ç«¯é¡µé¢
frontend-web/src/pages/
â””â”€â”€ admin/            # ç®¡ç†åå°é¡µé¢ âœ…
```

**å·®å¼‚åˆ†æ**ï¼š
- âœ… **æ— å·®å¼‚** - Masteråˆ†æ”¯åŒ…å«æ‰€æœ‰ç®¡ç†ç«¯åŠŸèƒ½
- âœ… **ç‰ˆæœ¬ä¸€è‡´** - åŒ»æ‚£æ²Ÿé€šã€ç³»ç»Ÿé…ç½®ç­‰åŠŸèƒ½å·²åˆå¹¶

---

## å››ã€æ•´ç†ç­–ç•¥ä¸å»ºè®®

### 4.1 æ€»ä½“ç­–ç•¥ï¼šåˆ é™¤æ‰€æœ‰Worktree

**ç†ç”±**ï¼š
1. âœ… **ä»£ç å·²åˆå¹¶** - æ‚£è€…ç«¯å’Œç®¡ç†ç«¯çš„ä»£ç 100%åˆå¹¶åˆ°master
2. âš ï¸ **AIæœåŠ¡éƒ¨åˆ†æœªåˆå¹¶** - ä½†masterå·²æœ‰åŸºç¡€AIæœåŠ¡ï¼Œå¯æ­£å¸¸è¿è¡Œ
3. ğŸ¯ **ç®€åŒ–ç®¡ç†** - åˆ é™¤worktreeå¯é¿å…ä»£ç åº“æ··ä¹±
4. ğŸ¯ **ç»Ÿä¸€å¼€å‘** - æ‰€æœ‰åç»­å¼€å‘åœ¨masteråˆ†æ”¯è¿›è¡Œ

### 4.2 è¯¦ç»†æ“ä½œæ­¥éª¤

#### æ­¥éª¤1ï¼šå¤‡ä»½Worktreeç‹¬æœ‰ä»£ç ï¼ˆå¯é€‰ï¼‰

å¦‚æœéœ€è¦ä¿ç•™AIæœåŠ¡çš„é«˜çº§åŠŸèƒ½ï¼Œå…ˆå¤‡ä»½ï¼š

```bash
# å¤‡ä»½AIæœåŠ¡çš„é«˜çº§åŠŸèƒ½æ–‡ä»¶
cd D:/Code/ai-gen/intl-health-mgmt-parallel/intl-health-mgmt-ai
mkdir -p ~/backup/ai-service-advanced-features
cp -r ai-service/app/api/v1/diagnosis.py ~/backup/
cp -r ai-service/app/services/diagnosis_service.py ~/backup/
cp -r ai-service/app/services/metrics_service.py ~/backup/
cp -r ai-service/app/services/cache_service.py ~/backup/
cp -r ai-service/MONITORING_GUIDE.md ~/backup/
```

#### æ­¥éª¤2ï¼šåˆ é™¤Worktreeï¼ˆæ¨èæ“ä½œï¼‰

```bash
# åˆ‡æ¢åˆ°ä¸»ä»“åº“
cd D:/Code/ai-gen/intl-health-mgmt-parallel/intl-health-mgmt

# åˆ é™¤worktree 1: AIæœåŠ¡
git worktree remove D:/Code/ai-gen/intl-health-mgmt-parallel/intl-health-mgmt-ai

# åˆ é™¤worktree 2: æ‚£è€…ç«¯
git worktree remove D:/Code/ai-gen/intl-health-mgmt-parallel/intl-health-mgmt-patient

# åˆ é™¤worktree 3: ç®¡ç†ç«¯
git worktree remove D:/Code/ai-gen/intl-health-mgmt-parallel/intl-health-mgmt-admin

# éªŒè¯worktreeå·²åˆ é™¤
git worktree list
# åº”è¯¥åªæ˜¾ç¤ºä¸»ä»“åº“
```

#### æ­¥éª¤3ï¼šåˆ é™¤è¿œç¨‹åˆ†æ”¯ï¼ˆå¯é€‰ï¼‰

å¦‚æœè¿™äº›åˆ†æ”¯å·²æ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼Œå¯ä»¥åˆ é™¤ï¼š

```bash
# åˆ é™¤è¿œç¨‹åˆ†æ”¯
git push origin --delete feature/stage3-ai-service
git push origin --delete feature/stage4-patient-app
git push origin --delete feature/stage5-admin-web

# åˆ é™¤æœ¬åœ°åˆ†æ”¯å¼•ç”¨
git branch -D feature/stage3-ai-service
git branch -D feature/stage4-patient-app
git branch -D feature/stage5-admin-web
```

#### æ­¥éª¤4ï¼šæ¸…ç†.git/worktreesç›®å½•

```bash
# æ¸…ç†worktreeå…ƒæ•°æ®
git worktree prune

# éªŒè¯æ¸…ç†ç»“æœ
ls -la .git/worktrees/
# åº”è¯¥ä¸ºç©ºæˆ–ä¸å­˜åœ¨
```

### 4.3 æ›¿ä»£æ–¹æ¡ˆï¼šä¿ç•™AIæœåŠ¡Worktreeï¼ˆä¸æ¨èï¼‰

å¦‚æœå¿…é¡»ä¿ç•™AIæœåŠ¡çš„é«˜çº§åŠŸèƒ½ï¼Œå¯ä»¥ï¼š

**æ–¹æ¡ˆAï¼šåˆå¹¶AIæœåŠ¡é«˜çº§åŠŸèƒ½åˆ°Master**

```bash
# åˆ‡æ¢åˆ°masteråˆ†æ”¯
git checkout master

# åˆå¹¶AIæœåŠ¡åˆ†æ”¯
git merge feature/stage3-ai-service

# è§£å†³å†²çªï¼ˆä¸»è¦æ˜¯tasks.mdå’ŒCHANGELOG.mdï¼‰
# æ‰‹åŠ¨ç¼–è¾‘å†²çªæ–‡ä»¶ï¼Œä¿ç•™masterçš„è¿›åº¦è®°å½•

# æäº¤åˆå¹¶
git add .
git commit -m "feat: åˆå¹¶AIæœåŠ¡é«˜çº§åŠŸèƒ½ï¼ˆè¯Šæ–­APIã€ç›‘æ§ã€ç¼“å­˜ä¼˜åŒ–ï¼‰"

# åˆ é™¤worktree
git worktree remove D:/Code/ai-gen/intl-health-mgmt-parallel/intl-health-mgmt-ai
```

**æ–¹æ¡ˆBï¼šæ‰‹åŠ¨è¿ç§»AIæœåŠ¡é«˜çº§åŠŸèƒ½**

```bash
# ä»worktreeå¤åˆ¶æ–‡ä»¶åˆ°master
cd D:/Code/ai-gen/intl-health-mgmt-parallel/intl-health-mgmt
cp ../intl-health-mgmt-ai/ai-service/app/api/v1/diagnosis.py ai-service/app/api/v1/
cp ../intl-health-mgmt-ai/ai-service/app/services/diagnosis_service.py ai-service/app/services/
cp ../intl-health-mgmt-ai/ai-service/app/services/metrics_service.py ai-service/app/services/
cp ../intl-health-mgmt-ai/ai-service/app/services/cache_service.py ai-service/app/services/

# æäº¤åˆ°master
git add ai-service/
git commit -m "feat: æ·»åŠ AIæœåŠ¡é«˜çº§åŠŸèƒ½ï¼ˆè¯Šæ–­APIã€ç›‘æ§ã€ç¼“å­˜ï¼‰"

# åˆ é™¤worktree
git worktree remove D:/Code/ai-gen/intl-health-mgmt-parallel/intl-health-mgmt-ai
```

---

## äº”ã€é£é™©è¯„ä¼°ä¸åº”å¯¹æªæ–½

### 5.1 é£é™©è¯†åˆ«

| é£é™© | ç­‰çº§ | å½±å“ | åº”å¯¹æªæ–½ |
|------|------|------|----------|
| AIæœåŠ¡é«˜çº§åŠŸèƒ½ä¸¢å¤± | ğŸŸ¡ ä¸­ | ç¼ºå°‘è¯¦ç»†è¯Šæ–­APIå’Œç›‘æ§ | å¤‡ä»½æ–‡ä»¶æˆ–åˆå¹¶åˆ°master |
| è¯¯åˆ æœªæäº¤çš„ä»£ç  | ğŸ”´ é«˜ | ä»£ç æ°¸ä¹…ä¸¢å¤± | åˆ é™¤å‰æ£€æŸ¥`git status` |
| åˆå¹¶å†²çªå¤æ‚ | ğŸŸ¡ ä¸­ | éœ€è¦æ‰‹åŠ¨è§£å†³å†²çª | ä½¿ç”¨æ–¹æ¡ˆBæ‰‹åŠ¨è¿ç§» |
| å›¢é˜Ÿæˆå‘˜æ··æ·† | ğŸŸ¢ ä½ | å…¶ä»–å¼€å‘è€…ä¸çŸ¥é“worktreeå·²åˆ é™¤ | æ›´æ–°å›¢é˜Ÿæ–‡æ¡£å’Œé€šçŸ¥ |

### 5.2 å›æ»šæ–¹æ¡ˆ

å¦‚æœåˆ é™¤worktreeåå‘ç°é—®é¢˜ï¼Œå¯ä»¥æ¢å¤ï¼š

```bash
# æ¢å¤worktreeï¼ˆåˆ†æ”¯ä»ç„¶å­˜åœ¨ï¼‰
git worktree add D:/Code/ai-gen/intl-health-mgmt-parallel/intl-health-mgmt-ai feature/stage3-ai-service
git worktree add D:/Code/ai-gen/intl-health-mgmt-parallel/intl-health-mgmt-patient feature/stage4-patient-app
git worktree add D:/Code/ai-gen/intl-health-mgmt-parallel/intl-health-mgmt-admin feature/stage5-admin-web
```

---

## å…­ã€åç»­å¼€å‘å»ºè®®

### 6.1 ç»Ÿä¸€åœ¨Masteråˆ†æ”¯å¼€å‘

**ä¼˜åŠ¿**ï¼š
- âœ… é¿å…ä»£ç åˆ†æ•£åœ¨å¤šä¸ªworktree
- âœ… ç®€åŒ–ä»£ç å®¡æŸ¥å’Œåˆå¹¶æµç¨‹
- âœ… å‡å°‘å†²çªå’ŒåŒæ­¥é—®é¢˜
- âœ… ä¾¿äºCI/CDè‡ªåŠ¨åŒ–

**å¼€å‘æµç¨‹**ï¼š
```bash
# åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout -b feature/new-feature

# å¼€å‘å’Œæäº¤
git add .
git commit -m "feat: å®ç°æ–°åŠŸèƒ½"

# æ¨é€åˆ°è¿œç¨‹
git push origin feature/new-feature

# åˆ›å»ºPull Request
# ä»£ç å®¡æŸ¥é€šè¿‡ååˆå¹¶åˆ°master
```

### 6.2 å‰©ä½™ä»»åŠ¡å¼€å‘è®¡åˆ’

æ ¹æ®tasks.mdï¼Œå‰©ä½™æœªå®Œæˆçš„ä»»åŠ¡ï¼š

| é˜¶æ®µ | ä»»åŠ¡ | çŠ¶æ€ | ä¼˜å…ˆçº§ | å»ºè®® |
|------|------|------|--------|------|
| ç¬¬å››é˜¶æ®µ | 27. æ‚£è€…ç«¯è®¾å¤‡æ•°æ®åŒæ­¥ | â¸ï¸ æœªå¼€å§‹ | P2 | å»¶ååˆ°MVPä¸Šçº¿å |
| ç¬¬ä¸ƒé˜¶æ®µ | 38. Dockerå®¹å™¨åŒ– | âœ… å·²å®Œæˆ | - | å·²å®Œæˆ |
| ç¬¬ä¸ƒé˜¶æ®µ | 39-42. éƒ¨ç½²ä¸ç›‘æ§ | â¸ï¸ æœªå¼€å§‹ | P1 | ä¼˜å…ˆå®Œæˆ |
| ç¬¬å…«é˜¶æ®µ | 43-46. æµ‹è¯•ä¸ä¸Šçº¿ | â¸ï¸ æœªå¼€å§‹ | P0 | æœ€é«˜ä¼˜å…ˆçº§ |

**å»ºè®®ä¼˜å…ˆçº§**ï¼š
1. ğŸ”´ **P0 - æµ‹è¯•ä¸ä¸Šçº¿**ï¼ˆç¬¬å…«é˜¶æ®µï¼‰- ç¡®ä¿MVPæŒ‰æ—¶äº¤ä»˜
2. ğŸŸ¡ **P1 - éƒ¨ç½²ä¸ç›‘æ§**ï¼ˆç¬¬ä¸ƒé˜¶æ®µï¼‰- ç”Ÿäº§ç¯å¢ƒå‡†å¤‡
3. ğŸŸ¢ **P2 - è®¾å¤‡æ•°æ®åŒæ­¥**ï¼ˆä»»åŠ¡27ï¼‰- éæ ¸å¿ƒåŠŸèƒ½ï¼Œå¯å»¶å

---

## ä¸ƒã€æ‰§è¡Œæ—¶é—´è¡¨

### 7.1 ç«‹å³æ‰§è¡Œï¼ˆ2026-01-01ï¼‰

- âœ… ç”Ÿæˆæœ¬æ•´ç†æŠ¥å‘Š
- â¸ï¸ ç­‰å¾…ç”¨æˆ·ç¡®è®¤æ•´ç†ç­–ç•¥

### 7.2 ç”¨æˆ·ç¡®è®¤åæ‰§è¡Œï¼ˆé¢„è®¡1å°æ—¶ï¼‰

```
09:00-09:15  å¤‡ä»½AIæœåŠ¡é«˜çº§åŠŸèƒ½æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰
09:15-09:30  åˆ é™¤3ä¸ªworktree
09:30-09:45  æ¸…ç†.git/worktreesç›®å½•
09:45-10:00  éªŒè¯åˆ é™¤ç»“æœï¼Œæ›´æ–°å›¢é˜Ÿæ–‡æ¡£
```

### 7.3 åç»­è·Ÿè¸ªï¼ˆ1å‘¨å†…ï¼‰

- ç›‘æ§å›¢é˜Ÿæˆå‘˜æ˜¯å¦é‡åˆ°é—®é¢˜
- ç¡®è®¤æ‰€æœ‰å¼€å‘åœ¨masteråˆ†æ”¯è¿›è¡Œ
- æ›´æ–°é¡¹ç›®æ–‡æ¡£å’Œå¼€å‘æŒ‡å—

---

## å…«ã€æ€»ç»“ä¸å»ºè®®

### 8.1 æ ¸å¿ƒç»“è®º

1. âœ… **æ‚£è€…ç«¯å’Œç®¡ç†ç«¯worktreeå¯ä»¥å®‰å…¨åˆ é™¤** - ä»£ç 100%åˆå¹¶åˆ°master
2. âš ï¸ **AIæœåŠ¡worktreeå»ºè®®åˆ é™¤** - è™½æœ‰éƒ¨åˆ†é«˜çº§åŠŸèƒ½æœªåˆå¹¶ï¼Œä½†masterå·²æœ‰åŸºç¡€AIæœåŠ¡
3. ğŸ¯ **æ¨èæ“ä½œï¼šåˆ é™¤æ‰€æœ‰worktree** - ç®€åŒ–ä»£ç åº“ç®¡ç†ï¼Œç»Ÿä¸€åœ¨masterå¼€å‘

### 8.2 é¡¹ç›®ç»ç†å»ºè®®

ä½œä¸ºé¡¹ç›®ç»ç†ï¼Œæˆ‘çš„ä¸“ä¸šå»ºè®®æ˜¯ï¼š

**ğŸ¯ ç«‹å³æ‰§è¡Œåˆ é™¤æ“ä½œ**

**ç†ç”±**ï¼š
1. **ä»£ç å·²åˆå¹¶** - æ ¸å¿ƒåŠŸèƒ½å·²åœ¨masteråˆ†æ”¯
2. **ç®€åŒ–ç®¡ç†** - é¿å…å¤šåˆ†æ”¯ç»´æŠ¤çš„å¤æ‚æ€§
3. **åŠ é€Ÿäº¤ä»˜** - é›†ä¸­ç²¾åŠ›å®Œæˆå‰©ä½™20.4%çš„ä»»åŠ¡
4. **é™ä½é£é™©** - å‡å°‘ä»£ç å†²çªå’ŒåŒæ­¥é—®é¢˜

**æ‰§è¡Œé¡ºåº**ï¼š
1. å…ˆåˆ é™¤æ‚£è€…ç«¯å’Œç®¡ç†ç«¯worktreeï¼ˆæ— é£é™©ï¼‰
2. å¤‡ä»½AIæœåŠ¡é«˜çº§åŠŸèƒ½æ–‡ä»¶
3. åˆ é™¤AIæœåŠ¡worktree
4. å¦‚éœ€è¦ï¼Œåç»­æ‰‹åŠ¨è¿ç§»AIé«˜çº§åŠŸèƒ½åˆ°master

### 8.3 ä¸‹ä¸€æ­¥è¡ŒåŠ¨

**ç­‰å¾…ç”¨æˆ·ç¡®è®¤**ï¼š
- [ ] æ˜¯å¦åŒæ„åˆ é™¤æ‰€æœ‰worktreeï¼Ÿ
- [ ] æ˜¯å¦éœ€è¦å…ˆå¤‡ä»½AIæœåŠ¡é«˜çº§åŠŸèƒ½ï¼Ÿ
- [ ] æ˜¯å¦éœ€è¦åˆå¹¶AIæœåŠ¡é«˜çº§åŠŸèƒ½åˆ°masterï¼Ÿ

**ç¡®è®¤åç«‹å³æ‰§è¡Œ**ï¼š
```bash
# ä¸€é”®åˆ é™¤æ‰€æœ‰worktreeï¼ˆç”¨æˆ·ç¡®è®¤åæ‰§è¡Œï¼‰
git worktree remove D:/Code/ai-gen/intl-health-mgmt-parallel/intl-health-mgmt-ai
git worktree remove D:/Code/ai-gen/intl-health-mgmt-parallel/intl-health-mgmt-patient
git worktree remove D:/Code/ai-gen/intl-health-mgmt-parallel/intl-health-mgmt-admin
git worktree prune
```

---

**æŠ¥å‘Šç»“æŸ**

**é¡¹ç›®ç»ç†**: @pm
**æŠ¥å‘Šæ—¥æœŸ**: 2026-01-01
**ä¸‹æ¬¡å®¡æŸ¥**: ç”¨æˆ·ç¡®è®¤åæ‰§è¡Œ
