<template>
  <view class="recognition-container">
    <!-- FAST åŸåˆ™ä»‹ç» -->
    <view class="fast-section">
      <view class="section-title">FAST ä¸­é£è¯†åˆ«æ³•</view>
      <view class="fast-desc">å¿«é€Ÿè¯†åˆ«ä¸­é£ç—‡çŠ¶ï¼Œäº‰å–é»„é‡‘æ•‘æ²»æ—¶é—´</view>

      <view class="fast-items">
        <view class="fast-item">
          <view class="fast-icon">ğŸ˜Š</view>
          <view class="fast-letter">F - Face (é¢éƒ¨)</view>
          <view class="fast-text">è®©æ‚£è€…å¾®ç¬‘ï¼Œè§‚å¯Ÿé¢éƒ¨æ˜¯å¦å¯¹ç§°ï¼Œä¸€ä¾§æ˜¯å¦ä¸‹å‚</view>
        </view>

        <view class="fast-item">
          <view class="fast-icon">ğŸ’ª</view>
          <view class="fast-letter">A - Arm (æ‰‹è‡‚)</view>
          <view class="fast-text">è®©æ‚£è€…åŒè‡‚å¹³ä¸¾ï¼Œè§‚å¯Ÿæ˜¯å¦æœ‰ä¸€ä¾§æ— åŠ›ä¸‹å‚</view>
        </view>

        <view class="fast-item">
          <view class="fast-icon">ğŸ’¬</view>
          <view class="fast-letter">S - Speech (è¯­è¨€)</view>
          <view class="fast-text">è®©æ‚£è€…è¯´ä¸€å¥ç®€å•çš„è¯ï¼Œè§‚å¯Ÿæ˜¯å¦å£é½¿ä¸æ¸…æˆ–æ— æ³•è¯´è¯</view>
        </view>

        <view class="fast-item">
          <view class="fast-icon">â°</view>
          <view class="fast-letter">T - Time (æ—¶é—´)</view>
          <view class="fast-text">å¦‚å‡ºç°ä»¥ä¸Šä»»ä¸€ç—‡çŠ¶ï¼Œç«‹å³æ‹¨æ‰“ 120 æ€¥æ•‘ç”µè¯</view>
        </view>
      </view>
    </view>

    <!-- å…¶ä»–ç—‡çŠ¶ -->
    <view class="symptoms-section">
      <view class="section-title">å…¶ä»–ä¸­é£ç—‡çŠ¶</view>
      <view class="symptom-list">
        <view class="symptom-item">â€¢ çªç„¶å‰§çƒˆå¤´ç—›</view>
        <view class="symptom-item">â€¢ çªç„¶è§†åŠ›æ¨¡ç³Šæˆ–å¤±æ˜</view>
        <view class="symptom-item">â€¢ çªç„¶è¡Œèµ°å›°éš¾ã€å¤±å»å¹³è¡¡</view>
        <view class="symptom-item">â€¢ çªç„¶æ„è¯†æ¨¡ç³Šæˆ–æ˜è¿·</view>
      </view>
    </view>

    <!-- ç´§æ€¥æç¤º -->
    <view class="warning-section">
      <view class="warning-icon">âš ï¸</view>
      <view class="warning-title">é‡è¦æç¤º</view>
      <view class="warning-text">
        ä¸­é£å‘ç”Ÿåçš„ 3-4.5 å°æ—¶æ˜¯é»„é‡‘æ•‘æ²»æ—¶é—´ï¼Œè¶Šæ—©æ²»ç–—æ•ˆæœè¶Šå¥½ã€‚å¦‚å‘ç°ç–‘ä¼¼ç—‡çŠ¶ï¼Œè¯·ç«‹å³æ‹¨æ‰“æ€¥æ•‘ç”µè¯ï¼
      </view>
    </view>

    <!-- æ€¥æ•‘æŒ‰é’® -->
    <view class="action-buttons">
      <button class="emergency-btn" @click="call120">
        <text class="btn-icon">ğŸ“</text>
        <text class="btn-text">æ‹¨æ‰“ 120</text>
      </button>
      <button class="test-btn" @click="startTest">è‡ªæµ‹è¯„ä¼°</button>
    </view>
  </view>
</template>

<script setup lang="ts">
const call120 = () => {
  // #ifdef MP-WEIXIN
  uni.showModal({
    title: 'æ‹¨æ‰“æ€¥æ•‘ç”µè¯',
    content: 'æ˜¯å¦æ‹¨æ‰“ 120 æ€¥æ•‘ç”µè¯ï¼Ÿ',
    success: (res) => {
      if (res.confirm) {
        uni.makePhoneCall({
          phoneNumber: '120',
          fail: () => {
            uni.showToast({ title: 'æ‹¨å·å¤±è´¥', icon: 'none' });
          },
        });
      }
    },
  });
  // #endif

  // #ifndef MP-WEIXIN
  uni.makePhoneCall({
    phoneNumber: '120',
    fail: () => {
      uni.showToast({ title: 'æ‹¨å·å¤±è´¥', icon: 'none' });
    },
  });
  // #endif
};

const startTest = () => {
  uni.showModal({
    title: 'è‡ªæµ‹è¯„ä¼°',
    content: 'è¯·æ ¹æ® FAST åŸåˆ™è§‚å¯Ÿæ‚£è€…ç—‡çŠ¶ã€‚å¦‚æœ‰ä»»ä¸€ç—‡çŠ¶ï¼Œè¯·ç«‹å³æ‹¨æ‰“ 120ï¼',
    confirmText: 'æ‹¨æ‰“ 120',
    cancelText: 'æˆ‘çŸ¥é“äº†',
    success: (res) => {
      if (res.confirm) {
        call120();
      }
    },
  });
};
</script>

<style scoped>
.recognition-container {
  min-height: 100vh;
  background-color: #f5f5f5;
  padding: 20rpx;
}

.fast-section,
.symptoms-section,
.warning-section {
  background: #fff;
  border-radius: 16rpx;
  padding: 32rpx;
  margin-bottom: 20rpx;
}

.section-title {
  font-size: 32rpx;
  font-weight: 600;
  color: #333;
  margin-bottom: 16rpx;
}

.fast-desc {
  font-size: 26rpx;
  color: #666;
  margin-bottom: 32rpx;
}

.fast-items {
  display: flex;
  flex-direction: column;
  gap: 24rpx;
}

.fast-item {
  padding: 24rpx;
  background: #f9f9f9;
  border-radius: 12rpx;
}

.fast-icon {
  font-size: 48rpx;
  margin-bottom: 12rpx;
}

.fast-letter {
  font-size: 28rpx;
  font-weight: 600;
  color: #333;
  margin-bottom: 8rpx;
}

.fast-text {
  font-size: 26rpx;
  color: #666;
  line-height: 1.6;
}

.symptom-list {
  display: flex;
  flex-direction: column;
  gap: 16rpx;
}

.symptom-item {
  font-size: 28rpx;
  color: #333;
  line-height: 1.6;
}

.warning-section {
  background: #fff7e6;
  border: 2rpx solid #faad14;
}

.warning-icon {
  font-size: 48rpx;
  text-align: center;
  margin-bottom: 16rpx;
}

.warning-title {
  font-size: 30rpx;
  font-weight: 600;
  color: #d46b08;
  text-align: center;
  margin-bottom: 16rpx;
}

.warning-text {
  font-size: 26rpx;
  color: #ad6800;
  line-height: 1.8;
  text-align: center;
}

.action-buttons {
  display: flex;
  gap: 20rpx;
  margin-top: 40rpx;
}

.emergency-btn,
.test-btn {
  flex: 1;
  height: 88rpx;
  border-radius: 44rpx;
  font-size: 32rpx;
  border: none;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12rpx;
}

.emergency-btn {
  background-color: #f5222d;
  color: #fff;
}

.test-btn {
  background-color: #fff;
  color: #333;
  border: 2rpx solid #d9d9d9;
}

.btn-icon {
  font-size: 36rpx;
}

.btn-text {
  font-size: 32rpx;
}
</style>
